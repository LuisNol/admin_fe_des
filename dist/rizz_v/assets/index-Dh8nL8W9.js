import{h as le,r as t,w as X,_ as ae,l as oe,m as o,q as x,t as e,L as te,v as ne,Q as ie,N as re,R as ue,J as A,x as se,y as u,E as de,a4 as ce,B as E,G as B,u as me,F as G,M as _e,H as O}from"./index-D8mrUL2h.js";import{_ as pe}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-Cx4oJ_hT.js";import{R as ve,P as fe,D as ge}from"./distritos-BIdCCPWy.js";import{H as Y}from"./http-client-9jyrWv7H.js";import{S as c}from"./sweetalert2-DId3skXs.js";import"./selectr.min-DQ9unuhL.js";import"./logo-sm-CPlBPHhB.js";const be=u("label",{for:"fullname-client",class:"col-form-label text-lg-end"},"Razon Social: ",-1),Ve=u("label",{for:"razon_social_comercial-client",class:"col-form-label text-lg-end"},"Razon Social Comercial: ",-1),xe=u("label",{for:"email-client",class:"col-form-label text-lg-end"},"Email: ",-1),ye=u("label",{for:"phone-client",class:"col-form-label text-lg-end"},"Telefono: ",-1),Ee=u("label",{for:"type-document-client",class:"col-form-label text-lg-end"},"Tipo de documento: ",-1),Ue=u("option",{value:"RUC"},"RUC",-1),he=u("label",{for:"n_document-client",class:"col-form-label text-lg-end"},"N掳 de Documento: ",-1),Se=u("label",{for:"birth_date-client-company",class:"col-form-label text-lg-end"},"Fecha de Aniversario: ",-1),Ce=u("label",{for:"address-client",class:"col-form-label text-lg-end"},"Direcci贸n: ",-1),Ne=u("label",{for:"urbanizacion-client",class:"col-form-label text-lg-end"},"Urbanizaci贸n: ",-1),ze=u("label",{for:"cod_local-client",class:"col-form-label text-lg-end"},"Codigo Local: ",-1),Re=u("label",{for:"region-client",class:"col-form-label text-lg-end"},"Regi贸n: ",-1),Le=["value"],Te=u("label",{for:"provincia-client",class:"col-form-label text-lg-end"},"Provincia: ",-1),Ie=["value"],De=u("label",{for:"distrito-client",class:"col-form-label text-lg-end"},"Distrito: ",-1),we=["value"],Oe={class:"modal-footer"},qe=le({__name:"index",setup(ke){const j=ve,F=fe,H=ge,q=t([]),k=t([]),U=t(""),R=t(""),h=t(""),S=t(),P=t("RUC"),C=t(),N=t(""),L=t(""),T=t(""),f=t(""),p=t(""),g=t(""),M=t(""),J=t(""),Q=t(""),z=t(),I=t("");t(null),t(null),t(null),t(null);const s=t(),Z=async()=>{var d,a,b,n,_,V,r,m,i,D,w,l,v,$;try{const y=await Y.get("company");console.log(y),s.value=y.data.company,U.value=((d=s.value)==null?void 0:d.razon_social)??"",R.value=((a=s.value)==null?void 0:a.razon_social_comercial)??"",h.value=((b=s.value)==null?void 0:b.email)??"",S.value=(n=s.value)==null?void 0:n.phone,C.value=(_=s.value)==null?void 0:_.n_document,z.value=(V=s.value)==null?void 0:V.birth_date,N.value=((r=s.value)==null?void 0:r.address)??"",L.value=((m=s.value)==null?void 0:m.urbanizacion)??"",T.value=((i=s.value)==null?void 0:i.cod_local)??"",f.value=((D=s.value)==null?void 0:D.ubigeo_region)??"",setTimeout(()=>{var K,W;p.value=((K=s.value)==null?void 0:K.ubigeo_provincia)??"",g.value=((W=s.value)==null?void 0:W.ubigeo_distrito)??""},25)}catch(y){console.log(y),(l=(w=y.response)==null?void 0:w.data)!=null&&l.error&&I.value.length==0&&(I.value=($=(v=y.response)==null?void 0:v.data)==null?void 0:$.error)}};X(f,d=>{q.value=F.filter(a=>a.department_id==d),p.value="",g.value="",k.value=[]}),X(p,d=>{d&&(k.value=H.filter(a=>a.province_id==d))});const ee=async()=>{var _,V,r,m;if(!U.value){c.fire("Upps!","Necesitas digitar la razon social del cliente","error");return}if(!S.value){c.fire("Upps!","Necesitas digitar un telefono del usuario","error");return}if(!h.value){c.fire("Upps!","Necesitas digitar el correo del client","error");return}if(!C.value){c.fire("Upps!","Necesitas digitar un numero de documento del cliente","error");return}if(!z.value){c.fire("Upps!","Necesitas seleccionar una fecha para el cliente","error");return}if(!N.value){c.fire("Upps!","Necesitas una direcci贸n para el cliente","error");return}if(!f.value){c.fire("Upps!","Necesitas una regi贸n para el cliente","error");return}if(!p.value){c.fire("Upps!","Necesitas una provincia para el cliente","error");return}if(!g.value){c.fire("Upps!","Necesitas un distrito para el cliente","error");return}let d=j.find(i=>i.id==f.value);d&&(M.value=d.name);let a=F.find(i=>i.id==p.value);a&&(J.value=a.name);let b=H.find(i=>i.id==g.value);b&&(Q.value=b.name);let n={razon_social:U.value,razon_social_comercial:R.value,email:h.value,phone:S.value,type_document:P.value,n_document:C.value,address:N.value,birth_date:z.value,ubigeo_region:f.value,ubigeo_provincia:p.value,ubigeo_distrito:g.value,region:M.value,provincia:J.value,distrito:Q.value,urbanizacion:L.value,cod_local:T.value};try{const i=await Y.post("company",n);console.log(i),i.data.message==403?c.fire("Upps!",i.data.message,"error"):c.fire("Genial!",i.data.message,"success")}catch(i){console.log(i),(V=(_=i.response)==null?void 0:_.data)!=null&&V.error&&I.value.length==0&&(I.value=(m=(r=i.response)==null?void 0:r.data)==null?void 0:m.error)}};return ae(()=>{Z()}),(d,a)=>{const b=ue,n=te,_=re,V=ie,r=de,m=ce,i=_e,D=se,w=ne;return x(),oe(pe,null,{default:o(()=>[e(_,{class:"justify-content-center"},{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(w,null,{default:o(()=>[e(V,null,{default:o(()=>[e(_,{class:"align-items-center justify-content-between"},{default:o(()=>[e(n,{lg:"3"},{default:o(()=>[e(b,null,{default:o(()=>[A("М Configuraciones")]),_:1})]),_:1})]),_:1})]),_:1}),e(D,{class:"pt-0"},{default:o(()=>[e(_,null,{default:o(()=>[e(n,{lg:"6"},{default:o(()=>[be,e(r,{type:"text",id:"fullname-client",modelValue:U.value,"onUpdate:modelValue":a[0]||(a[0]=l=>U.value=l),placeholder:"Example: Laravest Sac"},null,8,["modelValue"])]),_:1}),e(n,{lg:"6"},{default:o(()=>[Ve,e(r,{type:"text",id:"razon_social_comercial-client",modelValue:R.value,"onUpdate:modelValue":a[1]||(a[1]=l=>R.value=l),placeholder:"Example: Laravest"},null,8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[xe,e(r,{type:"text",id:"email-client",modelValue:h.value,"onUpdate:modelValue":a[2]||(a[2]=l=>h.value=l),placeholder:"Example: nolberto.sumaran@gmail.com"},null,8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[ye,e(r,{type:"number",id:"phone-client",modelValue:S.value,"onUpdate:modelValue":a[3]||(a[3]=l=>S.value=l),placeholder:"Example: 999999999"},null,8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[Ee,e(m,{id:"type_document",modelValue:P.value,"onUpdate:modelValue":a[4]||(a[4]=l=>P.value=l)},{default:o(()=>[Ue]),_:1},8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[he,e(r,{type:"number",id:"n_document-client",modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=l=>C.value=l),placeholder:"Example: ######"},null,8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[Se,e(r,{type:"date",id:"birth_date_client-company",modelValue:z.value,"onUpdate:modelValue":a[6]||(a[6]=l=>z.value=l),placeholder:"Example: 2011-08-19"},null,8,["modelValue"])]),_:1}),e(n,{lg:"5"},{default:o(()=>[Ce,e(r,{type:"text",id:"address-client",modelValue:N.value,"onUpdate:modelValue":a[7]||(a[7]=l=>N.value=l),placeholder:"Example: Psje Lt 18"},null,8,["modelValue"])]),_:1}),e(n,{lg:"5"},{default:o(()=>[Ne,e(r,{type:"text",id:"urbanizacion-client",modelValue:L.value,"onUpdate:modelValue":a[8]||(a[8]=l=>L.value=l),placeholder:"Example: *****"},null,8,["modelValue"])]),_:1}),e(n,{lg:"2"},{default:o(()=>[ze,e(r,{type:"text",id:"cod_local-client",modelValue:T.value,"onUpdate:modelValue":a[9]||(a[9]=l=>T.value=l),placeholder:"Example: ####"},null,8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[Re,e(m,{id:"region_list",modelValue:f.value,"onUpdate:modelValue":a[10]||(a[10]=l=>f.value=l)},{default:o(()=>[(x(!0),E(G,null,B(me(j),(l,v)=>(x(),E("option",{key:v,value:l.id},O(l.name),9,Le))),128))]),_:1},8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[Te,e(m,{id:"provincia_list",modelValue:p.value,"onUpdate:modelValue":a[11]||(a[11]=l=>p.value=l)},{default:o(()=>[(x(!0),E(G,null,B(q.value,(l,v)=>(x(),E("option",{key:v,value:l.id},O(l.name),9,Ie))),128))]),_:1},8,["modelValue"])]),_:1}),e(n,{lg:"4"},{default:o(()=>[De,e(m,{id:"distrito_list",modelValue:g.value,"onUpdate:modelValue":a[12]||(a[12]=l=>g.value=l)},{default:o(()=>[(x(!0),E(G,null,B(k.value,(l,v)=>(x(),E("option",{key:v,value:l.id},O(l.name),9,we))),128))]),_:1},8,["modelValue"])]),_:1}),e(n,{lg:"12",class:"mt-3"},{default:o(()=>[u("div",Oe,[e(i,{type:"button",variant:"secondary","data-bs-dismiss":"modal"},{default:o(()=>[A(" Cerrar ")]),_:1}),e(i,{type:"button",variant:"primary",onClick:ee,class:"mx-3"},{default:o(()=>[A(O(s.value?"Editar":"Guardar"),1)]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{qe as default};
