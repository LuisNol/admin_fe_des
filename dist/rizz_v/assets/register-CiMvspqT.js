import{h as de,r as n,w as se,_ as ne,l as G,m as a,q as m,t as l,L as ue,v as re,Q as ie,R as ce,J as u,x as pe,N as _e,y as t,E as me,a4 as ve,B as D,G as H,F as q,a9 as fe,D as L,a5 as ge,H as w,a6 as be,a7 as ke,a8 as xe,M as Ve}from"./index-BgTyC-eL.js";import{_ as Ne}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-DHF5AWSa.js";import{H as Z}from"./http-client-BDz097Pl.js";import{S as r}from"./sweetalert2-BCp_6zyy.js";import{U as Ue}from"./products-Bm01FGai.js";import"./logo-sm-CPlBPHhB.js";const Ce=t("label",{for:"name-product",class:"col-form-label text-lg-end"},"Nombre del Producto: ",-1),ye=t("label",{for:"sku-product",class:"col-form-label text-lg-end"},"Sku: ",-1),he=t("label",{for:"categorie-product",class:"col-form-label text-lg-end"},"Categoria: ",-1),Ee=t("option",{value:""},"Selec. Categoria",-1),Se=["value"],Pe=t("label",{for:"price-final-product",class:"col-form-label text-lg-end"},"Precio Cliente Final: ",-1),Ie=t("label",{for:"price-empresa-product",class:"col-form-label text-lg-end"},"Precio Cliente Empresa: ",-1),Fe=t("label",{for:"description-product",class:"col-form-label text-lg-end"},"Descripci√≥n: ",-1),$e=t("label",{for:"is-discount-product",class:"col-form-label text-lg-end"},"Descuento: ",-1),De={class:"d-flex"},we=t("label",{for:"discount-amount-product",class:"col-form-label text-lg-end"},"Porcentaje: ",-1),Ae=t("label",{for:"disponiblidad-product",class:"col-form-label text-lg-end"},"Disponiblidad: ",-1),Re=t("label",{for:"is_icbper-product",class:"col-form-label text-lg-end"},"Bolsa de Plastico: ",-1),Be=t("label",{for:"is_ivap-product",class:"col-form-label text-lg-end"},"Arroz Pilado: ",-1),Ge=t("label",{for:"is_isc-product",class:"col-form-label text-lg-end"},"ISC: ",-1),Le={class:"d-flex"},Me=t("label",{for:"isc-amount-product",class:"col-form-label text-lg-end"},"Porcentaje: ",-1),Oe=t("label",{for:"is_especial_nota-product",class:"col-form-label text-lg-end"},"¬øPara Nota Electronica?: ",-1),Te={class:"d-flex"},je=t("label",{for:"include_igv-product",class:"col-form-label text-lg-end"},"Incluye IGV: ",-1),He=t("label",{for:"price_base_igv",class:"col-form-label text-lg-end"},"Precio Base C.F: ",-1),qe=t("br",null,null,-1),Ze=t("br",null,null,-1),ze=t("label",{for:"price_base_igv",class:"col-form-label text-lg-end"},"Precio Base C.E: ",-1),Je=t("br",null,null,-1),Qe=t("label",{for:"units-product",class:"col-form-label text-lg-end"},"Unidades: ",-1),Ke=t("option",{value:""},"Selec. Unidad",-1),We=["value"],Xe=t("label",{for:"stock-product",class:"col-form-label text-lg-end"},"Stock: ",-1),Ye=t("label",{for:"imagen-product",class:"col-form-label text-lg-end"},"Imagen: ",-1),el=["src"],ll={class:"modal-footer"},rl=de({__name:"register",setup(al){const U=n(""),C=n(""),y=n(""),M=n([]),v=n(0),f=n(0),h=n(""),_=n(1),E=n(0),k=n(1),x=n(1),V=n(1),g=n(1),S=n(0),N=n(1),p=n(1),P=n(""),I=n(0),F=n(""),b=n(null),z=n(Ue),J=async()=>{try{const s=await Z.get("products/config");console.log(s),M.value=s.data.categories}catch(s){console.log(s)}};se(p,()=>{O(),T()});const O=()=>p.value==1?v.value:Number((v.value/1.18).toFixed(6)),T=()=>p.value==1?f.value:Number((f.value/1.18).toFixed(6)),Q=s=>{if(s.target.files[0].type.indexOf("image")<0){F.value=null,b.value=null,r.fire("Upps!","SOLAMENTE PUEDEN SER ARCHIVOS DE TIPO IMAGEN","error");return}b.value=s.target.files[0];let e=new FileReader;b.value&&(e.readAsDataURL(b.value),e.onloadend=()=>F.value=e.result)},K=async()=>{var e,A,R,c;if(!U.value){r.fire("Upps!","Necesitas digitar el nombre del producto","error");return}if(!C.value){r.fire("Upps!","Necesitas digitar el sku del producto","error");return}if(!y.value){r.fire("Upps!","Necesitas seleccionar una categoria del producto","error");return}if(!P.value){r.fire("Upps!","Necesitas seleccionar una unidad del producto","error");return}if(v.value==0){r.fire("Upps!","Necesitas digitar el precio de cliente final del producto","error");return}if(f.value==0){r.fire("Upps!","Necesitas digitar el precio empresa del producto","error");return}if(!h.value){r.fire("Upps!","Necesitas digitar la descripci√≥n del producto","error");return}if(_.value==2&&E.value==0){r.fire("Upps!","Necesitas digitar un descuento para el producto","error");return}if(g.value==2&&S.value<=0){r.fire("Upps!","Necesitas digitar un porcentaje ISC","error");return}if(I.value==0){r.fire("Upps!","Necesitas digitar el stock para el producto","error");return}if(!b.value){r.fire("Upps!","Necesitas poner una imagen producto","error");return}let s=new FormData;s.append("title",U.value),s.append("sku",C.value),s.append("categorie_id",y.value),s.append("price_general",v.value+""),s.append("price_company",f.value+""),s.append("description",h.value),s.append("is_discount",_.value+""),s.append("max_discount",E.value+""),s.append("disponiblidad",k.value+""),s.append("include_igv",p.value+""),s.append("is_icbper",x.value+""),s.append("is_ivap",V.value+""),s.append("unidad_medida",P.value),s.append("stock",I.value+""),s.append("percentage_isc",S.value+""),s.append("is_especial_nota",N.value+""),s.append("image",b.value);try{const d=await Z.post("products",s);d.data.code==405?r.fire("Upps!",d.data.message,"error"):(r.fire("Genial!",d.data.message,"success"),W())}catch(d){console.log(d),(A=(e=d.response)==null?void 0:e.data)!=null&&A.error&&r.fire("Upps!",(c=(R=d.response)==null?void 0:R.data)==null?void 0:c.error,"error")}},W=()=>{y.value="",P.value="",U.value="",C.value="",v.value=0,f.value=0,h.value="",_.value=1,E.value=0,p.value=1,x.value=1,V.value=1,g.value=1,S.value=0,N.value=1,k.value=1,I.value=0,b.value=null,F.value=null};return ne(()=>{J()}),(s,e)=>{const A=ce,R=ie,c=me,d=ue,j=ve,$=_e,X=fe,i=ge,Y=ke,ee=xe,le=be,ae=Ve,oe=pe,te=re;return m(),G(Ne,null,{default:a(()=>[l($,{class:"justify-content-center"},{default:a(()=>[l(d,{cols:"12"},{default:a(()=>[l(te,null,{default:a(()=>[l(R,null,{default:a(()=>[l(A,null,{default:a(()=>[u("üõçÔ∏è REGISTRAR PRODUCTO")]),_:1})]),_:1}),l(oe,{class:"pt-0"},{default:a(()=>[l($,null,{default:a(()=>[l(d,{lg:"5",md:"5"},{default:a(()=>[Ce,l(c,{type:"text",id:"name-product",modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=o=>U.value=o),placeholder:"Example: Pollos"},null,8,["modelValue"])]),_:1}),l(d,{lg:"4",md:"4"},{default:a(()=>[ye,l(c,{type:"text",id:"sku-product",modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=o=>C.value=o),placeholder:"Example: FE4RFF"},null,8,["modelValue"])]),_:1}),l(d,{lg:"3",md:"3"},{default:a(()=>[he,l(j,{id:"type_category_list",modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=o=>y.value=o)},{default:a(()=>[Ee,(m(!0),D(q,null,H(M.value,(o,B)=>(m(),D("option",{key:B,value:o.id},w(o.title),9,Se))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l($,null,{default:a(()=>[l(d,{lg:"3",md:"3"},{default:a(()=>[Pe,l(c,{type:"number",modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),id:"price-final-product",placeholder:"Example: 150"},null,8,["modelValue"])]),_:1}),l(d,{lg:"3",md:"3"},{default:a(()=>[Ie,l(c,{type:"number",modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=o=>f.value=o),id:"price-empresa-product",placeholder:"Example: 250"},null,8,["modelValue"])]),_:1}),l(d,{lg:"5",md:"5"},{default:a(()=>[Fe,l(X,{type:"textarea",modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=o=>h.value=o),rows:"5",id:"description-product"},null,8,["modelValue"])]),_:1})]),_:1}),l($,null,{default:a(()=>[l(d,{lg:"3",md:"3"},{default:a(()=>[$e,t("div",De,[l(i,{name:"is_discount",onClick:e[6]||(e[6]=o=>_.value=1),value:"1",checked:_.value==1},{default:a(()=>[u("No")]),_:1},8,["checked"]),u(" "+w(" ")+" "),l(i,{name:"is_discount",onClick:e[7]||(e[7]=o=>_.value=2),value:"2",checked:_.value==2,class:"mx-1"},{default:a(()=>[u("Si")]),_:1},8,["checked"])])]),_:1}),_.value==2?(m(),G(d,{key:0,lg:"3",md:"3"},{default:a(()=>[we,l(c,{type:"number",modelValue:E.value,"onUpdate:modelValue":e[8]||(e[8]=o=>E.value=o),id:"discount-amount-product",placeholder:"Example: 60%"},null,8,["modelValue"])]),_:1})):L("",!0),l(d,{lg:"3",md:"3"},{default:a(()=>[Ae,l(i,{name:"disponiblidad",onClick:e[9]||(e[9]=o=>k.value=1),value:"1",checked:k.value==1},{default:a(()=>[u("Vender los productos sin stock")]),_:1},8,["checked"]),l(i,{name:"disponiblidad",onClick:e[10]||(e[10]=o=>k.value=2),value:"2",checked:k.value==2},{default:a(()=>[u("No vender los productos sin stock")]),_:1},8,["checked"])]),_:1}),l(d,{lg:"3",md:"3"},{default:a(()=>[Re,l(i,{name:"is_icbper",onClick:e[11]||(e[11]=o=>x.value=1),value:"1",checked:x.value==1},{default:a(()=>[u("No")]),_:1},8,["checked"]),l(i,{name:"is_icbper",onClick:e[12]||(e[12]=o=>x.value=2),value:"2",checked:x.value==2},{default:a(()=>[u("Si")]),_:1},8,["checked"])]),_:1}),l(d,{lg:"3",md:"3"},{default:a(()=>[Be,l(i,{name:"is_ivap",onClick:e[13]||(e[13]=o=>V.value=1),value:"1",checked:V.value==1},{default:a(()=>[u("No")]),_:1},8,["checked"]),l(i,{name:"is_ivap",onClick:e[14]||(e[14]=o=>V.value=2),value:"2",checked:V.value==2},{default:a(()=>[u("Si")]),_:1},8,["checked"])]),_:1}),l(d,{lg:"2",md:"3"},{default:a(()=>[Ge,t("div",Le,[l(i,{name:"is_isc",onClick:e[15]||(e[15]=o=>g.value=1),value:"1",checked:g.value==1},{default:a(()=>[u("No")]),_:1},8,["checked"]),l(i,{name:"is_isc",onClick:e[16]||(e[16]=o=>g.value=2),class:"mx-1",value:"2",checked:g.value==2},{default:a(()=>[u("Si")]),_:1},8,["checked"])])]),_:1}),g.value==2?(m(),G(d,{key:1,lg:"2",md:"3"},{default:a(()=>[Me,l(c,{type:"number",modelValue:S.value,"onUpdate:modelValue":e[17]||(e[17]=o=>S.value=o),id:"isc-amount-product",placeholder:"Example: 60%"},null,8,["modelValue"])]),_:1})):L("",!0),l(d,{lg:"2",md:"3"},{default:a(()=>[Oe,t("div",Te,[l(i,{name:"is_especial_nota",onClick:e[18]||(e[18]=o=>N.value=1),value:"1",checked:N.value==1},{default:a(()=>[u("No")]),_:1},8,["checked"]),l(i,{name:"is_especial_nota",onClick:e[19]||(e[19]=o=>N.value=2),class:"mx-1",value:"2",checked:N.value==2},{default:a(()=>[u("Si")]),_:1},8,["checked"])])]),_:1}),l(d,{lg:"1",md:"1"},{default:a(()=>[je,l(i,{name:"include_igv",onClick:e[20]||(e[20]=o=>p.value=1),value:"1",checked:p.value==1},{default:a(()=>[u("No")]),_:1},8,["checked"]),l(i,{name:"include_igv",onClick:e[21]||(e[21]=o=>p.value=2),value:"2",checked:p.value==2},{default:a(()=>[u("Si")]),_:1},8,["checked"])]),_:1}),l(d,{lg:"2",md:"2"},{default:a(()=>[He,qe,u(" S/. "),t("span",null,w(O()),1),Ze,ze,Je,u(" S/. "),t("span",null,w(T()),1)]),_:1})]),_:1}),l($,null,{default:a(()=>[l(d,{lg:"3",md:"3"},{default:a(()=>[Qe,l(j,{id:"type_units_list",modelValue:P.value,"onUpdate:modelValue":e[22]||(e[22]=o=>P.value=o)},{default:a(()=>[Ke,(m(!0),D(q,null,H(z.value,(o,B)=>(m(),D("option",{key:B,value:o.code},w(o.name),9,We))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{lg:"3",md:"3"},{default:a(()=>[Xe,l(c,{type:"number",id:"stock-product",modelValue:I.value,"onUpdate:modelValue":e[23]||(e[23]=o=>I.value=o),placeholder:"Example: 5"},null,8,["modelValue"])]),_:1}),l(d,{lg:"5"},{default:a(()=>[Ye,l(le,{class:"mb-3"},{default:a(()=>[l(Y,{onChange:e[24]||(e[24]=o=>Q(o))}),l(ee,null,{default:a(()=>[u("Upload")]),_:1})]),_:1}),F.value?(m(),D("img",{key:0,src:F.value,alt:"",width:"150px",class:"rounded d-block mx-auto"},null,8,el)):L("",!0)]),_:1}),l(d,{lg:"12",class:"mt-3"},{default:a(()=>[t("div",ll,[l(ae,{type:"button",variant:"primary",onClick:K},{default:a(()=>[u(" Guardar ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{rl as default};
