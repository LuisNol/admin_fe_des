import{h as S,l as v,q as l,v as N,m as e,t as o,N as E,y as t,P as G,H as g,x as C,L as T,J as c,r as u,w as V,Q as z,R as U,S as B,T as D,U as A,B as y,G as Y,F as j,V as W,W as X,X as Q,Y as Z,Z as K,_ as tt,j as et,D as J,u as H}from"./index-DUcIh1Y0.js";import{_ as ot}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-DcrSClfx.js";import{_ as q,a as at}from"./MonthlyIncomeCard.vue_vue_type_script_setup_true_lang-1JkR9ukP.js";import{H as P}from"./http-client-BDz097Pl.js";import"./logo-sm-CPlBPHhB.js";const st={class:"col-auto",style:{"justify-items":"center"}},lt={class:"d-flex justify-content-center align-items-center thumb-xl border border-secondary rounded-circle"},nt={class:"mt-2 mb-0 fs-14"},rt={class:"fs-22 mt-0 mb-1 fw-bold"},_t={class:"mb-0 text-truncate text-muted text-center"},ct=t("i",{class:"mdi mdi-trending-up"},null,-1),it=S({__name:"ReportGeneralWidgest",props:{item:{type:Object,required:!0}},setup(x){return(p,i)=>{const _=E,d=C,a=T,s=N;return l(),v(s,{"no-body":""},{default:e(()=>[o(d,{class:"border-dashed-bottom pb-3"},{default:e(()=>[o(_,{class:"d-flex justify-content-center"},{default:e(()=>[t("div",st,[t("div",lt,[t("i",{class:G(["h1 align-self-center mb-0 text-secondary",x.item.icon])},null,2)]),t("h5",nt,g(x.item.title),1)])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(_,{class:"d-flex justify-content-center"},{default:e(()=>[o(a,{cols:"12",md:"12"},{default:e(()=>[t("h2",rt,g(x.item.stat),1),t("p",_t,[t("span",{class:G("text-"+x.item.buttonVariant)},[ct,c(" "+g(x.item.change)+"% ",1)],2),c(g(x.item.subTitle),1)])]),_:1})]),_:1})]),_:1})]),_:1})}}}),dt={class:"col-8"},ut={class:"col-4"},pt={class:"d-flex"},ht={class:""},mt=t("option",{value:"2025"},"2025",-1),vt=t("option",{value:"2026"},"2026",-1),ft=t("option",{value:"2027"},"2027",-1),bt=t("option",{value:"2028"},"2028",-1),gt=[mt,vt,ft,bt],yt=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Año")],-1),$t={class:"mx-3"},xt=t("option",{value:"01"},"Enero",-1),wt=t("option",{value:"02"},"Febrero",-1),kt=t("option",{value:"03"},"Marzo",-1),Mt=t("option",{value:"04"},"Abril",-1),Ft=t("option",{value:"05"},"Mayo",-1),Vt=t("option",{value:"06"},"Junio",-1),Dt=t("option",{value:"07"},"Julio",-1),At=t("option",{value:"08"},"Agosto",-1),St=t("option",{value:"09"},"Septiembre",-1),Et=t("option",{value:"10"},"Octubre",-1),Tt=t("option",{value:"11"},"Noviembre",-1),Nt=t("option",{value:"12"},"Diciembre",-1),Ct=[xt,wt,kt,Mt,Ft,Vt,Dt,At,St,Et,Tt,Nt],zt=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Mes")],-1),Pt={key:0,class:"alert alert-warning",role:"alert"},Ot={key:2,class:"text-center p-4"},Ut=t("div",{class:"spinner-border",role:"status"},null,-1),Bt=[Ut],Jt={key:3,class:"alert alert-info"},Yt=S({__name:"MonthlyAvgIncome",setup(x){const p=u(""),i=u(new Date().getFullYear()),_=u(new Date().getMonth()>9?"0"+(new Date().getMonth()+1):"0"+(new Date().getMonth()+1)),d=u(!1),a=u([]),s=async()=>{d.value=!0;try{const n=await P.post("kpi/sales_x_day_of_month",{year:i.value,month:_.value});console.log(n),d.value=!1;let h=[],f=[];n.data.sales_for_day_month.forEach(m=>{h.push(m.total_sales),f.push(m.day_created_format)}),r.value.series.push({name:"Ventas Diarias",data:h}),r.value.options.xaxis&&(console.log(f),r.value.options.xaxis.categories=f),a.value=[{title:"Total de Ventas",stat:`S/. ${n.data.total_sales_current}`},{title:"Variación %",stat:`${n.data.percentageV}%`},{title:"Total Facturado",stat:`S/. ${n.data.total_factur_month_current}`},{title:"Avg. Total",stat:`S/. ${n.data.total_igv_month_current}`}]}catch(n){console.error("Error en sales_x_day_of_month:",n),d.value=!1,p.value="Error al cargar datos de ventas diarias"}},r=u({height:270,type:"bar",series:[{name:"Ventas Diarias",data:[]}],options:{chart:{height:270,type:"bar",toolbar:{show:!1},dropShadow:{enabled:!0,top:0,left:5,blur:5,color:"#45404a2e",opacity:.35}},colors:["#95a0c5","#95a0c5","#95a0c5","#22c55e","#95a0c5","#95a0c5","#95a0c5","#95a0c5","#95a0c5","#95a0c5","#95a0c5","#95a0c5"],plotOptions:{bar:{borderRadius:6,dataLabels:{position:"top"},columnWidth:"20",distributed:!0}},dataLabels:{enabled:!0,offsetY:-20,style:{fontSize:"12px",colors:["#8997bd"]}},xaxis:{categories:[],position:"top",axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!0,formatter:function(n){return n+" PEN"}}},grid:{row:{colors:["transparent","transparent"],opacity:.2},strokeDashArray:2.5},legend:{show:!1}}});return V(i,n=>{s()}),V(_,n=>{s()}),z(()=>{s()}),(n,h)=>{const f=B,m=E,w=U,k=T,$=C,M=N;return l(),v(k,{md:"12",lg:"8"},{default:e(()=>[o(M,{"no-body":""},{default:e(()=>[o(w,null,{default:e(()=>[o(m,{class:"align-items-center"},{default:e(()=>[t("div",dt,[o(f,null,{default:e(()=>[c("Monthly Avg. Income")]),_:1})]),t("div",ut,[t("div",pt,[t("div",ht,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"year_2",placeholder:"Filtrar por Año","onUpdate:modelValue":h[0]||(h[0]=F=>i.value=F)},gt,512),[[A,i.value]]),yt]),t("div",$t,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"month_2",placeholder:"Filtrar por Mes","onUpdate:modelValue":h[1]||(h[1]=F=>_.value=F)},Ct,512),[[A,_.value]]),zt])])])]),_:1})]),_:1}),o($,{class:"pt-0"},{default:e(()=>[p.value?(l(),y("div",Pt," ⚠️ "+g(p.value),1)):!d.value&&r.value.series[0].data.length>0?(l(),v(q,{key:1,chart:r.value,class:"apex-charts",id:"monthly_income"},null,8,["chart"])):d.value?(l(),y("div",Ot,Bt)):(l(),y("div",Jt,"No hay datos disponibles")),o(m,null,{default:e(()=>[(l(!0),y(j,null,Y(a.value,(F,O)=>(l(),v(k,{md:"6",lg:"3",key:O},{default:e(()=>[o(at,{item:F},null,8,["item"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),jt={class:"col"},It={class:"col-auto"},Lt={class:"d-flex"},Rt={class:""},Ht=t("option",{value:"2025"},"2025",-1),qt=t("option",{value:"2026"},"2026",-1),Gt=t("option",{value:"2027"},"2027",-1),Wt=t("option",{value:"2028"},"2028",-1),Xt=[Ht,qt,Gt,Wt],Qt=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Año")],-1),Zt={class:"mx-3"},Kt=t("option",{value:"01"},"Enero",-1),te=t("option",{value:"02"},"Febrero",-1),ee=t("option",{value:"03"},"Marzo",-1),oe=t("option",{value:"04"},"Abril",-1),ae=t("option",{value:"05"},"Mayo",-1),se=t("option",{value:"06"},"Junio",-1),le=t("option",{value:"07"},"Julio",-1),ne=t("option",{value:"08"},"Agosto",-1),re=t("option",{value:"09"},"Septiembre",-1),_e=t("option",{value:"10"},"Octubre",-1),ce=t("option",{value:"11"},"Noviembre",-1),ie=t("option",{value:"12"},"Diciembre",-1),de=[Kt,te,ee,oe,ae,se,le,ne,re,_e,ce,ie],ue=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Mes")],-1),pe={key:0,class:"alert alert-warning",role:"alert"},he={key:2,class:"text-center p-4"},me=t("div",{class:"spinner-border",role:"status"},null,-1),ve=[me],fe={key:3,class:"alert alert-info"},be=S({__name:"CategoriesMostSale",setup(x){const p=u(""),i=u(new Date().getFullYear()),_=u(new Date().getMonth()>9?"0"+(new Date().getMonth()+1):"0"+(new Date().getMonth()+1)),d=u(!1),a=async()=>{d.value=!0;try{const r=await P.post("kpi/categories_most_sales",{year:i.value,month:_.value});console.log(r),d.value=!1;let n=[],h=[];r.data.categories_most_sales.forEach(f=>{n.push(f.total_sales),h.push(f.categorie_name)}),s.value.series=n,s.value.options.labels&&(s.value.options.labels=h)}catch(r){console.error("Error en categories_most_sales:",r),d.value=!1,p.value="Error al cargar datos de categorías"}},s=u({height:280,type:"donut",series:[],options:{chart:{height:280,type:"donut"},plotOptions:{pie:{donut:{size:"80%"}}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},legend:{show:!0,position:"bottom",horizontalAlign:"center",floating:!1,fontSize:"13px",fontFamily:"Be Vietnam Pro, sans-serif",offsetX:0,offsetY:0},labels:[],colors:["#22c55e","#08b0e7","#ffc728"],responsive:[{breakpoint:600,options:{plotOptions:{donut:{customScale:.2}},chart:{height:240},legend:{show:!1}}}],tooltip:{y:{formatter:function(r){return r+" PEN"}}}}});return V(i,r=>{a()}),V(_,r=>{a()}),z(()=>{a()}),(r,n)=>{const h=B,f=E,m=U,w=C,k=N,$=T;return l(),v($,{md:"6",lg:"4"},{default:e(()=>[o(k,{"no-body":""},{default:e(()=>[o(m,null,{default:e(()=>[o(f,{class:"align-items-center"},{default:e(()=>[t("div",jt,[o(h,null,{default:e(()=>[c("Categorias")]),_:1})]),t("div",It,[t("div",Lt,[t("div",Rt,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"year_2",placeholder:"Filtrar por Año","onUpdate:modelValue":n[0]||(n[0]=M=>i.value=M)},Xt,512),[[A,i.value]]),Qt]),t("div",Zt,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"month_2",placeholder:"Filtrar por Mes","onUpdate:modelValue":n[1]||(n[1]=M=>_.value=M)},de,512),[[A,_.value]]),ue])])])]),_:1})]),_:1}),o(w,{class:"pt-0"},{default:e(()=>[p.value?(l(),y("div",pe," ⚠️ "+g(p.value),1)):!d.value&&s.value.series.length>0?(l(),v(q,{key:1,chart:s.value,class:"apex-charts",id:"customers"},null,8,["chart"])):d.value?(l(),y("div",he,ve)):(l(),y("div",fe,"No hay datos disponibles"))]),_:1})]),_:1})]),_:1})}}}),ge={class:"col"},ye={class:"col-auto"},$e=t("option",{value:"2025"},"2025",-1),xe=t("option",{value:"2026"},"2026",-1),we=t("option",{value:"2027"},"2027",-1),ke=t("option",{value:"2028"},"2028",-1),Me=[$e,xe,we,ke],Fe=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Año")],-1),Ve={key:0,class:"alert alert-warning",role:"alert"},De={key:2,class:"text-center p-4"},Ae=t("div",{class:"spinner-border",role:"status"},null,-1),Se=[Ae],Ee={key:3,class:"alert alert-info"},Te=S({__name:"AudienceOverview",setup(x){const p=u(""),i=u(new Date().getFullYear()),_=u(!1),d=async()=>{_.value=!0;try{const s=await P.post("kpi/sales_x_month_of_year",{year:i.value});console.log(s),_.value=!1;let r=[],n=[];s.data.sales_x_month_of_year_current.forEach(h=>{r.push(h.total_sales)}),s.data.sales_x_month_of_year_before.forEach(h=>{n.push(h.total_sales)}),a.value.series.push({name:"Ventas Por Mes - "+i.value,data:r}),a.value.series.push({name:"Ventas Por Mes - "+(i.value-1),data:n}),a.value.options.labels&&(a.value.options.labels=s.data.months_name)}catch(s){console.error("Error en sales_x_month_of_year:",s),_.value=!1,p.value="Error al cargar datos de ventas mensuales"}},a=u({height:280,type:"area",series:[],options:{chart:{height:280,type:"area",toolbar:{show:!1},dropShadow:{enabled:!0,top:12,left:0,blur:2,color:"rgba(132, 145, 183, 0.3)",opacity:.35}},colors:["#22c55e","rgba(106, 155, 155, 0.3)"],dataLabels:{enabled:!1},stroke:{show:!0,curve:"smooth",width:[3,3],dashArray:[0,0],lineCap:"round"},labels:[],yaxis:{labels:{offsetX:-12,offsetY:0,formatter:function(s){return"S/. "+s}}},grid:{strokeDashArray:3,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},legend:{show:!1},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:1,inverseColors:!1,opacityFrom:.05,opacityTo:.05,stops:[45,100]}}}});return V(i,s=>{d()}),z(()=>{d()}),(s,r)=>{const n=B,h=E,f=U,m=C,w=N,k=T;return l(),v(k,{md:"6",lg:"8"},{default:e(()=>[o(w,{"no-body":""},{default:e(()=>[o(f,null,{default:e(()=>[o(h,{class:"align-items-center"},{default:e(()=>[t("div",ge,[o(n,null,{default:e(()=>[c("Audience Overview")]),_:1})]),t("div",ye,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"year_2",placeholder:"Filtrar por Año","onUpdate:modelValue":r[0]||(r[0]=$=>i.value=$)},Me,512),[[A,i.value]]),Fe])]),_:1})]),_:1}),o(m,{class:"pt-0"},{default:e(()=>[p.value?(l(),y("div",Ve," ⚠️ "+g(p.value),1)):!_.value&&a.value.series.length>0?(l(),v(q,{key:1,chart:a.value,class:"apex-charts",id:"audience_overview"},null,8,["chart"])):_.value?(l(),y("div",De,Se)):(l(),y("div",Ee,"No hay datos disponibles"))]),_:1})]),_:1})]),_:1})}}}),Ne={class:"col-6"},Ce={class:"col-6"},ze={class:"d-flex"},Pe={class:""},Oe=t("option",{value:"2025"},"2025",-1),Ue=t("option",{value:"2026"},"2026",-1),Be=t("option",{value:"2027"},"2027",-1),Je=t("option",{value:"2028"},"2028",-1),Ye=[Oe,Ue,Be,Je],je=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Año")],-1),Ie={class:"mx-3"},Le=t("option",{value:"01"},"Enero",-1),Re=t("option",{value:"02"},"Febrero",-1),He=t("option",{value:"03"},"Marzo",-1),qe=t("option",{value:"04"},"Abril",-1),Ge=t("option",{value:"05"},"Mayo",-1),We=t("option",{value:"06"},"Junio",-1),Xe=t("option",{value:"07"},"Julio",-1),Qe=t("option",{value:"08"},"Agosto",-1),Ze=t("option",{value:"09"},"Septiembre",-1),Ke=t("option",{value:"10"},"Octubre",-1),to=t("option",{value:"11"},"Noviembre",-1),eo=t("option",{value:"12"},"Diciembre",-1),oo=[Le,Re,He,qe,Ge,We,Xe,Qe,Ze,Ke,to,eo],ao=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Mes")],-1),so={key:0,class:"alert alert-warning",role:"alert"},lo={key:1,class:"alert alert-info"},no=["src"],ro=S({__name:"ProductsMostSale",setup(x){const p=u(""),i=u([]),_=u(new Date().getFullYear()),d=u(new Date().getMonth()>9?"0"+(new Date().getMonth()+1):"0"+(new Date().getMonth()+1)),a=async()=>{try{const s=await P.post("kpi/product_most_sales",{year:_.value,month:d.value});console.log(s),i.value=s.data.product_most_sales}catch(s){console.error("Error en product_most_sales:",s),p.value="Error al cargar datos de productos"}};return V(_,s=>{a()}),V(d,s=>{a()}),z(()=>{a()}),(s,r)=>{const n=B,h=E,f=U,m=Z,w=Q,k=X,$=tt,M=K,F=W,O=C,I=N,L=T;return l(),v(L,{lg:"6"},{default:e(()=>[o(I,{"no-body":"",class:"card-h-100"},{default:e(()=>[o(f,null,{default:e(()=>[o(h,{class:"align-items-center"},{default:e(()=>[t("div",Ne,[o(n,null,{default:e(()=>[c("Productos/Servicios con mas Ventas")]),_:1})]),t("div",Ce,[t("div",ze,[t("div",Pe,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"year_2",placeholder:"Filtrar por Año","onUpdate:modelValue":r[0]||(r[0]=b=>_.value=b)},Ye,512),[[A,_.value]]),je]),t("div",Ie,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"month_2",placeholder:"Filtrar por Mes","onUpdate:modelValue":r[1]||(r[1]=b=>d.value=b)},oo,512),[[A,d.value]]),ao])])])]),_:1})]),_:1}),o(O,{class:"pt-0"},{default:e(()=>[p.value?(l(),y("div",so," ⚠️ "+g(p.value),1)):i.value.length===0?(l(),y("div",lo," No hay datos disponibles ")):(l(),v(F,{key:2,responsive:"",class:"mb-0 browser_users"},{default:e(()=>[o(k,{class:"table-light"},{default:e(()=>[o(w,null,{default:e(()=>[o(m,{class:"border-top-0"},{default:e(()=>[c("Producto")]),_:1}),o(m,{class:"border-top-0"},{default:e(()=>[c("N° de Venta")]),_:1}),o(m,{class:"border-top-0"},{default:e(()=>[c("Igv")]),_:1}),o(m,{class:"border-top-0"},{default:e(()=>[c("Total de Venta")]),_:1})]),_:1})]),_:1}),o(M,null,{default:e(()=>[(l(!0),y(j,null,Y(i.value,(b,R)=>(l(),v(w,{key:R},{default:e(()=>[o($,null,{default:e(()=>[t("img",{src:b.product_imagen,alt:"img",height:"24",class:"me-2"},null,8,no),c(g(b.product_name),1)]),_:2},1024),o($,null,{default:e(()=>[c(g(b.count_products),1)]),_:2},1024),o($,null,{default:e(()=>[c(g(b.total_igv),1)]),_:2},1024),o($,null,{default:e(()=>[c(g(b.total_sales),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}}}),_o={class:"col-6"},co={class:"col-6"},io={class:"d-flex"},uo={class:""},po=t("option",{value:"2025"},"2025",-1),ho=t("option",{value:"2026"},"2026",-1),mo=t("option",{value:"2027"},"2027",-1),vo=t("option",{value:"2028"},"2028",-1),fo=[po,ho,mo,vo],bo=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Año")],-1),go={class:"mx-3"},yo=t("option",{value:"01"},"Enero",-1),$o=t("option",{value:"02"},"Febrero",-1),xo=t("option",{value:"03"},"Marzo",-1),wo=t("option",{value:"04"},"Abril",-1),ko=t("option",{value:"05"},"Mayo",-1),Mo=t("option",{value:"06"},"Junio",-1),Fo=t("option",{value:"07"},"Julio",-1),Vo=t("option",{value:"08"},"Agosto",-1),Do=t("option",{value:"09"},"Septiembre",-1),Ao=t("option",{value:"10"},"Octubre",-1),So=t("option",{value:"11"},"Noviembre",-1),Eo=t("option",{value:"12"},"Diciembre",-1),To=[yo,$o,xo,wo,ko,Mo,Fo,Vo,Do,Ao,So,Eo],No=t("small",{class:"form-text text-muted"},[t("b",null,"Filtrar"),c(" por Mes")],-1),Co={key:0,class:"alert alert-warning",role:"alert"},zo={key:1,class:"alert alert-info"},Po=S({__name:"ClientMostSale",setup(x){const p=u(""),i=u([]),_=u(new Date().getFullYear()),d=u(new Date().getMonth()>9?"0"+(new Date().getMonth()+1):"0"+(new Date().getMonth()+1)),a=async()=>{try{const s=await P.post("kpi/client_most_sales",{year:_.value,month:d.value});console.log(s),i.value=s.data.client_most_sale}catch(s){console.error("Error en client_most_sales:",s),p.value="Error al cargar datos de clientes"}};return V(_,s=>{a()}),V(d,s=>{a()}),z(()=>{a()}),(s,r)=>{const n=B,h=E,f=U,m=Z,w=Q,k=X,$=tt,M=K,F=W,O=C,I=N,L=T;return l(),v(L,{lg:"6"},{default:e(()=>[o(I,{"no-body":"",class:"card-h-100"},{default:e(()=>[o(f,null,{default:e(()=>[o(h,{class:"align-items-center"},{default:e(()=>[t("div",_o,[o(n,null,{default:e(()=>[c("Productos/Servicios con mas Ventas")]),_:1})]),t("div",co,[t("div",io,[t("div",uo,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"year_2",placeholder:"Filtrar por Año","onUpdate:modelValue":r[0]||(r[0]=b=>_.value=b)},fo,512),[[A,_.value]]),bo]),t("div",go,[D(t("select",{class:"form-control form-select-solid fw-bolder",name:"month_2",placeholder:"Filtrar por Mes","onUpdate:modelValue":r[1]||(r[1]=b=>d.value=b)},To,512),[[A,d.value]]),No])])])]),_:1})]),_:1}),o(O,{class:"pt-0"},{default:e(()=>[p.value?(l(),y("div",Co," ⚠️ "+g(p.value),1)):i.value.length===0?(l(),y("div",zo," No hay datos disponibles ")):(l(),v(F,{key:2,responsive:"",class:"mb-0"},{default:e(()=>[o(k,{class:"table-light"},{default:e(()=>[o(w,null,{default:e(()=>[o(m,{class:"border-top-0"},{default:e(()=>[c("Cliente")]),_:1}),o(m,{class:"border-top-0"},{default:e(()=>[c("N° de Venta")]),_:1}),o(m,{class:"border-top-0"},{default:e(()=>[c("Total de Venta")]),_:1}),o(m,{class:"border-top-0"},{default:e(()=>[c("Igv Total")]),_:1})]),_:1})]),_:1}),o(M,null,{default:e(()=>[(l(!0),y(j,null,Y(i.value,(b,R)=>(l(),v(w,{key:R},{default:e(()=>[o($,null,{default:e(()=>[c(g(b.client_most_sale),1)]),_:2},1024),o($,null,{default:e(()=>[c(g(b.count_sales),1)]),_:2},1024),o($,null,{default:e(()=>[c("S/. "+g(b.total_sales),1)]),_:2},1024),o($,null,{default:e(()=>[c(" S/. "+g(b.total_igv),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}}}),Oo={key:0,class:"alert alert-warning",role:"alert"},Io=S({__name:"index",setup(x){const p=u(""),i=u([]),_=et(),d=async()=>{try{const a=await P.post("kpi/report_general",{});console.log(a),i.value.push({title:"Total Cotización",icon:"fas fa-file-alt",stat:`S/. ${a.data.total_cotiz_month_current}`,change:a.data.variation_percentage_total_cotiz,subTitle:"",buttonVariant:a.data.variation_percentage_total_cotiz>0?"primary":"danger"}),i.value.push({title:"Total Venta",icon:"icofont-money-bag",stat:`S/. ${a.data.total_sales_month_current}`,change:a.data.variation_percentage_total_sales,subTitle:"",buttonVariant:a.data.variation_percentage_total_sales>0?"primary":"danger"}),i.value.push({title:"Total V. Facturado",icon:"fas fa-money-bill-alt",stat:`S/. ${a.data.total_factur_month_current}`,change:a.data.variation_percentage_total_factur,subTitle:"",buttonVariant:a.data.variation_percentage_total_factur>0?"primary":"danger"}),i.value.push({title:"N° de Guia Remisión",icon:"fas fa-bus",stat:`${a.data.total_guia_de_remision}`,change:a.data.variation_percentage_guia_de_remision_before,subTitle:"",buttonVariant:a.data.variation_percentage_guia_de_remision_before>0?"primary":"danger"})}catch(a){console.error("Error en report_general:",a),p.value="Error al cargar datos generales"}};return z(()=>{d()}),(a,s)=>{const r=T,n=E;return l(),v(ot,null,{default:e(()=>[p.value?(l(),y("div",Oo," ⚠️ "+g(p.value),1)):J("",!0),H(_).isPermitedRoute("dashboard")?(l(),v(n,{key:1},{default:e(()=>[o(r,{md:"12",lg:"4"},{default:e(()=>[o(n,null,{default:e(()=>[(l(!0),y(j,null,Y(i.value,(h,f)=>(l(),v(r,{key:f,md:"12",lg:"6"},{default:e(()=>[o(it,{item:h},null,8,["item"])]),_:2},1024))),128))]),_:1})]),_:1}),o(Yt)]),_:1})):J("",!0),H(_).isPermitedRoute("dashboard")?(l(),v(n,{key:2,class:"justify-content-center"},{default:e(()=>[o(Te),o(be)]),_:1})):J("",!0),H(_).isPermitedRoute("dashboard")?(l(),v(n,{key:3},{default:e(()=>[o(ro),o(Po)]),_:1})):J("",!0)]),_:1})}}});export{Io as default};
